<header class="content__title" id="foco">
    <h1>Contratos</h1>
	<small>Podra administrar las contratos de las administradoras!</small>
</header>
<div class="card">
	<div class="card-body">
		<div class="accordion" role="tablist">
			<div class="card">
	           	<div class="card-header" role="tab" id="headingOne">
	                <a data-toggle="collapse" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
	                    Datos del contrato a registrar
	                </a>
	            </div>

	            <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne" data-parent="#accordion">
	                <div class="card-body">
	                	<form [formGroup]="contratoForm">
	                		<div class="row col-md-12">	                			
	                			<div class="col-md-3">
			                        <div class="form-group">
			                            <label for="ID_ADMINISTRADORA">Administradora</label>
			                            <select class="select2 admin" data-placeholder="Seleccione..." id="ID_ADMINISTRADORA" formControlName="ID_ADMINISTRADORA">
											<option></option>
											<option *ngFor="let admin of administradoras" [value]="admin.ID_ADMINISTRADORA">{{admin.NOM_ADMINISTRADORA}}</option>
			                            </select>
										<i class="form-group__bar"></i>
			                        </div>
			                    </div>

			                    <div class="col-md-3">
								    <label for="COD_CONTRATO">Código <span style="color: #ff6b68;">*</span></label>
								    <div class="input-group mb-3">
										<div class="input-group-prepend">
											<span class="input-group-text"><i class="zmdi zmdi-badge-check"></i></span>
										</div>
										<input type="text" id="COD_CONTRATO" placeholder="Código" class="form-control" formControlName="COD_CONTRATO" [ngClass]="{ 'is-invalid': submitted && f.COD_CONTRATO.errors }" />
										<div *ngIf="submitted && f.COD_CONTRATO.errors" class="invalid-feedback">
								            <div *ngIf="f.COD_CONTRATO.errors.required">Por favor, agregue el código.</div>
								        </div>
										<i class="form-group__bar"></i>
									</div>
								</div>

								<div class="col-md-3">
								    <label for="NOM_CONTRATO">Contrato <span style="color: #ff6b68;">*</span></label>
								    <div class="input-group mb-3">
										<div class="input-group-prepend">
											<span class="input-group-text"><i class="zmdi zmdi-case-check"></i></span>
										</div>
										<input type="text" id="NOM_CONTRATO" placeholder="Contrato" class="form-control" formControlName="NOM_CONTRATO" [ngClass]="{ 'is-invalid': submitted && f.NOM_CONTRATO.errors }" />
										<div *ngIf="submitted && f.NOM_CONTRATO.errors" class="invalid-feedback">
								            <div *ngIf="f.NOM_CONTRATO.errors.required">Por favor, agregue el nombre del contrato.</div>
								        </div>
										<i class="form-group__bar"></i>
									</div>
								</div>

			                    <div class="col-md-3">
			                        <div class="form-group">
			                            <label for="ID_REGIMEN">Régimen <span style="color: #ff6b68;">*</span></label>
			                            <select class="select2 regimen" data-placeholder="Seleccione..." id="ID_REGIMEN" formControlName="ID_REGIMEN">
											<option></option>
											<option *ngFor="let regi of regimen" [value]="regi.ID_REGIMEN">{{regi.NOM_REGIMEN}}</option>
			                            </select>
										<i class="form-group__bar"></i>
			                        </div>
			                    </div>								

								<div class="col-md-3">
			                        <div class="form-group">
			                            <label for="TIPO_PAGO">Tipo de pago</label>
			                            <select class="select2 gestacion" data-placeholder="Seleccione..." id="TIPO_PAGO" formControlName="TIPO_PAGO">
											<option value="1" [selected]="true">Capitado</option>
											<option value="2">Evento</option>
			                            </select>
										<i class="form-group__bar"></i>
			                        </div>
			                    </div>

			                    <div class="col-md-3">
			                        <div class="form-group">
			                            <label for="TIPO_FACTURA">Tipo de facturación</label>
			                            <select class="select2 gestacion" data-placeholder="Seleccione..." id="TIPO_FACTURA" formControlName="TIPO_FACTURA">
											<option value="1">Orden de Servicio</option>
											<option value="2">Orden de Servicio Extramural</option>
											<option value="3">Factura de Venta</option>
											<option value="4">Factura de Venta Extramural</option>
											<option value="5">Recibo de Caja</option>
											<option value="6" [selected]="true">Todos</option>
											<option value="7">Orden laboratorios</option>
			                            </select>
										<i class="form-group__bar"></i>
			                        </div>
			                    </div>

			                    <div class="col-md-3">
									<label for="FEC_INICIO">Fecha Desde - Hasta <span style="color: #ff6b68;">*</span></label>
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text"><i class="zmdi zmdi-calendar"></i></span>
										</div>
										<input type="text" id="FEC_INICIO" placeholder="Desde - Hasta" class="form-control date-picker fecha" formControlName="FEC_INICIO" [ngClass]="{ 'is-invalid tooltips': submitted && f.FEC_INICIO.errors }"/>
										<div *ngIf="submitted && f.FEC_INICIO.errors" class="invalid-feedback">
							                <div *ngIf="f.FEC_INICIO.errors.required">Por favor, agregue cuando comienza y termina.</div>
							            </div>
										<i class="form-group__bar"></i>
									</div>			
								</div>

								<div class="col-md-3">
								    <label for="NUM_AFILIADO">Número de Afiliados</label>
								    <div class="input-group mb-3">
										<div class="input-group-prepend">
											<span class="input-group-text"><i class="zmdi zmdi-accounts-alt"></i></span>
										</div>
										<input type="text" id="NUM_AFILIADO" placeholder="Afiliados" class="form-control" formControlName="NUM_AFILIADO" />
										<i class="form-group__bar"></i>
									</div>
								</div>

								<div class="col-md-3">
								    <label for="VALOR_TOTAL">Valor del contrato</label>
								    <div class="input-group mb-3">
										<div class="input-group-prepend">
											<span class="input-group-text"><i class="zmdi zmdi-badge-check"></i></span>
										</div>
										<input type="text" id="VALOR_TOTAL" placeholder="Valor" class="form-control" formControlName="VALOR_TOTAL" />
										<i class="form-group__bar"></i>
									</div>
								</div>

								<div class="col-md-3">
								    <label for="VALOR_MENSUAL">Valor mensual</label>
								    <div class="input-group mb-3">
										<div class="input-group-prepend">
											<span class="input-group-text"><i class="zmdi zmdi-badge-check"></i></span>
										</div>
										<input type="text" id="VALOR_MENSUAL" placeholder="Valor" class="form-control" formControlName="VALOR_MENSUAL" />
										<i class="form-group__bar"></i>
									</div>
								</div>

								<div class="col-md-3">
								    <label for="VALOR_ALERTA">Valor alerta</label>
								    <div class="input-group mb-3">
										<div class="input-group-prepend">
											<span class="input-group-text"><i class="zmdi zmdi-badge-check"></i></span>
										</div>
										<input type="text" id="VALOR_ALERTA" placeholder="Valor" class="form-control" formControlName="VALOR_ALERTA" />
										<i class="form-group__bar"></i>
									</div>
								</div>

								<div class="col-md-3">
								    <label for="VALOR_MENSUAL_VAL">Valor validación</label>
								    <div class="input-group mb-3">
										<div class="input-group-prepend">
											<span class="input-group-text"><i class="zmdi zmdi-badge-check"></i></span>
										</div>
										<input type="text" id="VALOR_MENSUAL_VAL" placeholder="Mensual validación" class="form-control" formControlName="VALOR_MENSUAL_VAL" />
										<i class="form-group__bar"></i>
									</div>
								</div>

								<div class="col-md-12 mb-4">
								    <label for="OBS_CONTRATO">Observaciones</label>
								    <div class="wysiwyg-editor" id="OBS_CONTRATO" ></div>
								</div>

							</div>
							<div class="row form-group">
								<button class="btn btn-primary btn--icon-text btn-addp mr-2" type="button" (click)="Registrar();"><i class="zmdi zmdi-floppy"></i> Registrar</button>
								<button *ngIf="contrato_id != 0" class="btn btn-primary btn--icon-text btn-cancelp" type="button" (click)="clearAll();"><i class="zmdi zmdi-close-circle"></i> Cancelar</button>		
							</div>
						</form>
	                </div>
	            </div>
	        </div>
	    </div>
	    <div class="table-responsive">
            <table id="data-table" class="table table-hover table-striped table-sm table-bordered">
            </table>
        </div>
	</div>
</div>
